/*!
 * Start Bootstrap - Creative v1.1.1 (http://startbootstrap.com/template-overviews/creative)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
function init(){container=document.getElementById("graph"),camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,4e3),camera.position.z=400,scene=new THREE.Scene,group=new THREE.Group,scene.add(group);var e=maxParticleCount*maxParticleCount;positions=new Float32Array(3*e),colors=new Float32Array(3*e);var t=(new THREE.PointsMaterial({color:16777215,size:3,blending:THREE.AdditiveBlending,transparent:!0,sizeAttenuation:!1}),new THREE.PointsMaterial({size:2,transparent:!0,color:16777215,blending:THREE.AdditiveBlending}));particles=new THREE.BufferGeometry,particlePositions=new Float32Array(3*maxParticleCount);for(var i=0;i<maxParticleCount;i++){var n=Math.random()*r-r/2,o=Math.random()*r-r/2,a=Math.random()*r-r/2;particlePositions[3*i]=n,particlePositions[3*i+1]=o,particlePositions[3*i+2]=a,particlesData.push({velocity:new THREE.Vector3(-1+2*Math.random(),-1+2*Math.random(),-1+2*Math.random()),numConnections:0})}particles.setDrawRange(0,particleCount),particles.addAttribute("position",new THREE.BufferAttribute(particlePositions,3).setDynamic(!0)),pointCloud=new THREE.Points(particles,t),group.add(pointCloud);var s=new THREE.BufferGeometry;s.addAttribute("position",new THREE.BufferAttribute(positions,3).setDynamic(!0)),s.addAttribute("color",new THREE.BufferAttribute(colors,3).setDynamic(!0)),s.computeBoundingSphere(),s.setDrawRange(0,0);var c=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,blending:THREE.AdditiveBlending,transparent:!0});linesMesh=new THREE.LineSegments(s,c),group.add(linesMesh),renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.gammaInput=!0,renderer.gammaOutput=!0,container.appendChild(renderer.domElement),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight+100)}function animate(){for(var e=0,t=0,i=0,n=0;n<particleCount;n++)particlesData[n].numConnections=0;for(var n=0;n<particleCount;n++){var o=particlesData[n];if(particlePositions[3*n]+=o.velocity.x,particlePositions[3*n+1]+=o.velocity.y,particlePositions[3*n+2]+=o.velocity.z,(particlePositions[3*n+1]<-rHalf||particlePositions[3*n+1]>rHalf)&&(o.velocity.y=-o.velocity.y),(particlePositions[3*n]<-rHalf||particlePositions[3*n]>rHalf)&&(o.velocity.x=-o.velocity.x),(particlePositions[3*n+2]<-rHalf||particlePositions[3*n+2]>rHalf)&&(o.velocity.z=-o.velocity.z),!(effectController.limitConnections&&o.numConnections>=effectController.maxConnections))for(var r=n+1;r<particleCount;r++){var a=particlesData[r];if(!(effectController.limitConnections&&a.numConnections>=effectController.maxConnections)){var s=particlePositions[3*n]-particlePositions[3*r],c=particlePositions[3*n+1]-particlePositions[3*r+1],l=particlePositions[3*n+2]-particlePositions[3*r+2],p=Math.sqrt(s*s+c*c+l*l);if(p<effectController.minDistance){o.numConnections++,a.numConnections++;var d=1-p/effectController.minDistance;positions[e++]=particlePositions[3*n],positions[e++]=particlePositions[3*n+1],positions[e++]=particlePositions[3*n+2],positions[e++]=particlePositions[3*r],positions[e++]=particlePositions[3*r+1],positions[e++]=particlePositions[3*r+2],colors[t++]=d,colors[t++]=d,colors[t++]=d,colors[t++]=d,colors[t++]=d,colors[t++]=d,i++}}}}linesMesh.geometry.setDrawRange(0,2*i),linesMesh.geometry.attributes.position.needsUpdate=!0,linesMesh.geometry.attributes.color.needsUpdate=!0,pointCloud.geometry.attributes.position.needsUpdate=!0,requestAnimationFrame(animate),render()}function render(){var e=.001*Date.now();group.rotation.y=.1*e,renderer.render(scene,camera)}function swap_phrase(){var e=$.Deferred();if(phrase_pos==phrases.length-1)try{$("header").ripples("destroy").ripples({resolution:24,dropRadius:20,perturbance:.14})}catch(t){console.log(":(")}$.when(e).done(function(){phrase_pos%=phrases.length,testTypingEffect(phrases[phrase_pos]),phrase_pos++}),testErasingEffect(e)}function testTypingEffect(e){caption=e,type(),cursorAnimation();var t=$(window).scrollTop()+Math.floor($(window).height()/2),i=Math.floor($(window).width()/2);try{$("header").ripples("drop",i,t,80,.1)}catch(n){console.log(":(")}}function type(){captionEl.html(caption.substr(0,captionLength++)),captionLength<caption.length+1?setTimeout("type()",50):(captionLength=0,caption="")}function testErasingEffect(e){caption=captionEl.html(),captionLength=caption.length,captionLength>0?erase(e):e.resolve(),cursorAnimation()}function erase(e){captionEl.html(caption.substr(0,captionLength--)),captionLength>=0?setTimeout(erase,15,e):(captionLength=0,caption="",e.resolve())}function cursorAnimation(){$("#cursor").animate({opacity:0},"fast","swing").animate({opacity:1},"fast","swing")}!function(e){"use strict";e("a.page-scroll").bind("click",function(t){var i=e(this);e("html, body").stop().animate({scrollTop:e(i.attr("href")).offset().top-50},1250,"easeInOutExpo"),t.preventDefault()}),e("body").scrollspy({target:".navbar-fixed-top",offset:51}),e(".navbar-collapse ul li a:not(.dropdown-toggle)").click(function(){e(".navbar-toggle:visible").click()}),e("#mainNav").affix({offset:{top:100}}),window.sr=ScrollReveal(),sr.reveal(".sr-icons",{duration:600,scale:.3,distance:"0px"},200),sr.reveal(".sr-button",{duration:1e3,delay:200}),sr.reveal(".sr-contact",{duration:600,scale:.3,distance:"0px"},300),e(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}})}(jQuery);var group,container,controls,particlesData=[],camera,scene,renderer,positions,colors,particles,pointCloud,particlePositions,linesMesh,maxParticleCount=100,particleCount=50,r=300,rHalf=r/2,effectController={showDots:!0,showLines:!0,minDistance:100,limitConnections:!0,maxConnections:200,particleCount:50};init(),animate();var captionLength=0,caption="",phrases=["We are FinTech veterans","We are from Berlin","We are building the next thing","We will disrupt the market","Game on!"],phrase_pos=0;$(document).ready(function(){captionEl=$("#caption"),setInterval("cursorAnimation()",600);try{$("header").ripples({resolution:24,dropRadius:20,perturbance:.14})}catch(e){console.log(":(")}swap_phrase(),setInterval("swap_phrase()",1e4)});